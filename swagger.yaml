openapi: "3.0.0"
info:
  description: "Tài liệu API DotB."
  version: "1.0"
  title: "DOTB API"
servers:
  - url: "http://localhost/dotbedu_mn/rest/v11_3"
  - url: "https://localhost/dotbedu_mn/rest/v11_3"
tags:
- name: "oauth2"
  description: "API xác thực và đăng nhập"
- name: "lists (filter)"
  description: "API lọc danh sách bản ghi (cần token xác thực)"
- name: "details (record)"
  description: "API thao tác trên từng bản ghi cụ thể (cần token xác thực)"
paths:
  /oauth2/token:
    post:
      tags:
      - "oauth2"
      summary: "Lấy OAuth2 token"
      description: "Nhận thông tin đăng nhập và trả về access_token cùng các trường liên quan."
      operationId: "getToken"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - grant_type
              - client_id
              - username
              - password
              - platform
              properties:
                grant_type:
                  type: string
                  description: "Kiểu grant, luôn là 'password'."
                  default: "password"
                client_id:
                  type: string
                  description: "Client ID của ứng dụng (mặc định: 'dotb')."
                  default: "dotb"
                client_secret:
                  type: string
                  description: "Client secret (nếu có, có thể để trống)."
                  example: ""
                username:
                  type: string
                  description: "Tên đăng nhập của user."
                  example: "dotbedu@dotb.vn"
                password:
                  type: string
                  format: password
                  description: "Mật khẩu của user."
                  example: "123456789"
                platform:
                  type: string
                  description: "Nguồn hoặc nền tảng sinh token (ví dụ: 'base')."
                  example: "base"
      responses:
        '200':
          description: "Đăng nhập thành công, trả về access_token và các trường liên quan."
          content:
            application/json:
              schema:
                type: object
                properties:
                  access_token:
                    type: string
                    description: "JWT hoặc UUID dùng để xác thực các request tiếp theo."
                    example: "0a3abbc1-e0a9-4def-bc7f-baecd9b05fa1"
                  expires_in:
                    type: integer
                    description: "Thời gian hết hạn của access_token (tính bằng giây)."
                    example: 3600
                  token_type:
                    type: string
                    description: "Kiểu token, thường là 'bearer'."
                    example: "bearer"
                  scope:
                    type: string
                    description: "Phạm vi (scope) được cấp, có thể null nếu không áp dụng."
                    example: null
                  refresh_token:
                    type: string
                    description: "Refresh token dùng để lấy access_token mới."
                    example: "50a98d3c-6f45-42a2-86b3-466c7d6a5d36"
                  refresh_expires_in:
                    type: integer
                    description: "Thời gian hết hạn của refresh_token (tính bằng giây)."
                    example: 1209599
                  download_token:
                    type: string
                    description: "Token phụ (nếu có) dùng cho mục đích tải tài nguyên."
                    example: "0ccfe4ee-41d9-4b1b-b3ab-f0687723eb70"
  /{module}:
    get:
      tags:
      - "lists (filter)"
      summary: "Lấy danh sách bản ghi của module (LIST ALL)"
      description: "Xem chi tiết tại [tài liệu HTML](./apiDocs/getModule.html)"
      operationId: "filterModuleAll"
      parameters:
      - name: "module"
        in: "path"
        description: "Tên module (ví dụ: Accounts, Contacts)."
        required: true
        schema:
          type: string
      - name: "filter"
        in: "query"
        description: "Biểu thức bộ lọc, xem chi tiết tại [tài liệu HTML](./apiDocs/filter.html)"
        required: false
        schema:
          type: string
      - name: "max_num"
        in: "query"
        description: "Số bản ghi tối đa trả về (Ví dụ: 100)."
        required: false
        schema:
          type: integer
      - name: "offset"
        in: "query"
        description: "Số bản ghi bỏ qua trước khi danh sách được trả về."
        required: false
        schema:
          type: integer
      - name: "fields"
        in: "query"
        description: "Danh sách trường muốn được trả về."
        required: false
        schema:
          type: string
      - name: "order_by"
        in: "query"
        description: "Sắp xếp kết quả."
        required: false
        schema:
          type: string
      - name: "deleted"
        in: "query"
        description: "Cho phép hiển thị bản ghi đã xóa."
        required: false
        schema:
          type: boolean
      - name: "nulls_last"
        in: "query"
        description: "Đưa các giá trị null xuống cuối danh sách trả về khi sắp xếp."
        required: false
        schema:
          type: boolean
      responses:
        '200':
          description: Thành công, trả về mảng bản ghi
          content:
            application/json:
              example:
                next_offset: -1
                records:
                  - id: "fa300a0e-0ad1-b322-9601-512d0983c19a"
                    name: "Nelson Inc"
                    date_modified: "2013-02-28T05:03:00+00:00"
                    description: ""
                    opportunities:
                      - _module: "Opportunities"
                        id: "b0701501-1fab-8ae7-3942-540da93f5017"
                        name: "360 Vacations - 228 Units"
                        date_modified: "2014-09-08T16:05:00+03:00"
                        sales_status: "New"
                    _acl:
                      fields: {}
                  - id: "95e17367-9b3d-0e26-22dc-512d0961fedf"
                    name: "Florence Haddock"
                    date_modified: "2013-02-26T19:12:00+00:00"
                    description: ""
                    opportunities:
                      - _module: "Opportunities"
                        id: "9ce7c088-8ee4-7cd3-18f1-540da944d4c0"
                        name: "360 Vacations - 312 Units"
                        date_modified: "2014-09-08T16:05:00+03:00"
                        sales_status: "New"
                    _acl:
                      fields: {}
      security:
      - BearerAuth: []
    post:
      tags:
      - "details (record)"
      summary: "Tạo mới bản ghi (Create Record)"
      description: "Xem chi tiết tại [tài liệu HTML](./apiDocs/postModule.html)."
      operationId: "createRecord"
      parameters:
      - name: "module"
        in: "path"
        description: "Tên module (ví dụ: Accounts, Contacts)."
        required: true
        schema:
          type: string
          example: "Accounts"
      requestBody:
        required: true
        description: "Ở đây là request mẫu để tạo Lead mới."
        content:
          application/json:
            schema:
              type: object
              required:
                - last_name
              properties:
                first_name:
                  type: string
                  description: "Tên (không bắt buộc nhưng thường có)"
                  example: "Nguyễn"
                last_name:
                  type: string
                  description: "Họ (bắt buộc)"
                  example: "Văn A"
                email:
                  type: string
                  format: email
                  description: "Email chính"
                  example: "vana@example.com"
                phone_mobile:
                  type: string
                  description: "Điện thoại di động"
                  example: "0987654321"
                lead_source:
                  type: string
                  description: "Nguồn Lead"
                  example: "Walk in"
                status:
                  type: string
                  description: "Trạng thái Lead"
                  example: "New"
            example:
              first_name: "Nguyễn"
              last_name: "Văn A"
              email: "vana@example.com"
              phone_mobile: "0987654321"
              lead_source: "Walk in"
              status: "New"
      responses:
        '200':
          description: "Thành công – trả về bản ghi vừa tạo"
          content:
            application/json:
              example:
                  id: "6f3b993c-4fed-11f0-9a60-cc28aa8bf61e"
                  name: "Văn A Nguyễn"
                  date_entered: "2025-06-23T11:49:23+07:00"
                  date_modified: "2025-06-23T11:49:23+07:00"
                  modified_user_id: "1"
                  modified_by_name: "Administrator"
                  modified_user_link:
                    full_name: "Administrator"
                    id: "1"
                    _acl:
                      fields:
                        pwd_last_changed:
                          write: "no"
                          create: "no"
                        last_login:
                          write: "no"
                          create: "no"
                      delete: "no"
                      _hash: "08b99a97c2e8d792f7a44d8882b5af6d"
                  created_by: "1"
                  created_by_name: "Administrator"
                  created_by_link:
                    full_name: "Administrator"
                    id: "1"
                    _acl:
                      fields:
                        pwd_last_changed:
                          write: "no"
                          create: "no"
                        last_login:
                          write: "no"
                          create: "no"
                      delete: "no"
                      _hash: "08b99a97c2e8d792f7a44d8882b5af6d"
                  description: ""
                  deleted: false
                  approval_status: ""
                  salutation: ""
                  first_name: "Nguyễn"
                  last_name: "Văn A"
                  full_name: "Văn A Nguyễn"
                  title: ""
                  facebook: ""
                  twitter: ""
                  department: ""
                  do_not_call: false
                  phone_home: ""
                  phone_mobile: "0987654321"
                  phone_work: ""
                  phone_other: ""
                  phone_fax: ""
                  primary_address_street: ""
                  primary_address_street_2: ""
                  primary_address_street_3: ""
                  primary_address_city: ""
                  primary_address_state: ""
                  primary_address_postalcode: ""
                  primary_address_country: ""
                  alt_address_street: ""
                  alt_address_street_2: ""
                  alt_address_street_3: ""
                  alt_address_city: ""
                  alt_address_state: ""
                  alt_address_postalcode: ""
                  alt_address_country: ""
                  assistant: "Van A Nguyen"
                  assistant_phone: ""
                  picture: ""
                  pri_latitude: null
                  pri_longitude: null
                  alt_latitude: null
                  alt_longitude: null
                  date_performed: ""
                  performed_user_id: ""
                  performed_by_name: ""
                  performed_user_link:
                    full_name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  last_call_status: ""
                  last_call_result: ""
                  last_call_date: ""
                  first_call_date: ""
                  first_call_result: ""
                  last_pt_date: ""
                  last_pt_status: ""
                  last_visited: ""
                  group_source: ""
                  converted: false
                  refered_by: ""
                  lead_source: "Walk in"
                  source_description: ""
                  status: "New"
                  status_description: ""
                  reports_to_id: ""
                  report_to_name: ""
                  dp_business_purpose: []
                  dp_consent_last_updated: "2025-06-23"
                  account_name: ""
                  account_to_lead: ""
                  accounts:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  account_description: ""
                  contact_id: ""
                  contact_name: ""
                  contacts:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  account_id: ""
                  opportunity_id: ""
                  converted_opp_name: ""
                  opportunity:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb3dc3c17"
                  opportunity_name: ""
                  opportunity_amount: ""
                  campaign_id: ""
                  campaign_name: ""
                  campaign_leads:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  c_accept_status_fields: ""
                  calls:
                    id: ""
                  m_accept_status_fields: ""
                  meetings:
                    id: ""
                  accept_status_id: ""
                  accept_status_name: ""
                  accept_status_calls: ""
                  accept_status_meetings: ""
                  webtolead_email1: []
                  webtolead_email2: []
                  webtolead_email_opt_out: ""
                  webtolead_invalid_email: ""
                  birthdate: ""
                  portal_name: ""
                  portal_app: ""
                  website: ""
                  preferred_language: ""
                  onl_uid: ""
                  phone_prefix: "84"
                  is_migrate_data: true
                  following: false
                  my_favorite: false
                  tag: []
                  locked_fields: []
                  assigned_user_id: ""
                  assigned_user_name: ""
                  assigned_user_link:
                    full_name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  team_count: ""
                  team_count_link:
                    team_count: ""
                    id: "6960e90c-4587-11ef-8351-2070492d436e"
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  team_name:
                    - id: "6960e90c-4587-11ef-8351-2070492d436e"
                      name: "CS Mầm Non/2.0"
                      name_2: ""
                      primary: true
                      selected: false
                  email: []
                  email1: ""
                  email2: ""
                  invalid_email: ""
                  email_opt_out: ""
                  email_addresses_non_primary: ""
                  gender: ""
                  guardian_name: ""
                  guardian_name_2: ""
                  nick_name: ""
                  other_mobile: ""
                  relationship: ""
                  relationship2: ""
                  grade: ""
                  phone_guardian: ""
                  prefer_level: []
                  age: null
                  age_text: "0 month(s)"
                  full_lead_name: "Văn A Nguyễn"
                  potential: "Interested"
                  old_student_id: ""
                  school_name: ""
                  j_school_link:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  dri_workflow_template_id: ""
                  dri_workflow_template_name: ""
                  dri_workflow_template_link:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  class_activity: ""
                  schedule_call_status: ""
                  schedule_call_date: ""
                  is_today_birthday: ""
                  allow_create: ""
                  reason: ""
                  reference_logs: ""
                  cj_process_key: ""
                  reference: ""
                  utm_source: ""
                  utm_medium: ""
                  utm_content: ""
                  utm_term: ""
                  channel: ""
                  utm_agent_id: ""
                  utm_agent: ""
                  utm_agent_link:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  school_id: ""
                  team_name_text: "CS Mầm Non/2.0"
                  _acl:
                    fields: {}
                  _module: "Leads"
      security:
      - BearerAuth: []
  /{module}/count:
    get:
      tags:
      - "lists (filter)"
      summary: "Lấy tổng số bản ghi (COUNT)"
      description: "Xem chi tiết tại [tài liệu HTML](./apiDocs/getModuleCount.html)"
      operationId: "filterModuleAllCount"
      parameters:
      - name: "module"
        in: "path"
        description: "Tên module (ví dụ: Accounts, Contacts)."
        required: true
        schema:
          type: string
      - name: "filter"
        in: "query"
        description: "Biểu thức bộ lọc, xem chi tiết tại [tài liệu HTML](./apiDocs/filter.html)"
        required: false
        schema:
          type: string
      - name: "max_num"
        in: "query"
        description: "Số bản ghi tối đa trả về (Ví dụ: 100)."
        required: false
        schema:
          type: integer
      - name: "offset"
        in: "query"
        description: "Số bản ghi bỏ qua trước khi danh sách được trả về."
        required: false
        schema:
          type: integer
      - name: "fields"
        in: "query"
        description: "Danh sách trường muốn được trả về."
        required: false
        schema:
          type: string
      - name: "order_by"
        in: "query"
        description: "Sắp xếp kết quả."
        required: false
        schema:
          type: string
      - name: "deleted"
        in: "query"
        description: "Cho phép hiển thị bản ghi đã xóa."
        required: false
        schema:
          type: boolean
      - name: "nulls_last"
        in: "query"
        description: "Đưa các giá trị null xuống cuối danh sách trả về khi sắp xếp."
        required: false
        schema:
          type: boolean
      responses:
        '200':
          description: "Thành công, trả về số lượng bản ghi."
          content:
            application/json:
              schema:
                type: object
                properties:
                  record_count:
                    type: integer
                    description: "Tổng số bản ghi thỏa filter (hoặc toàn bộ nếu không có filter)."
                    example: 1234
      security:
      - BearerAuth: []
  /{module}/filter:
    get:
      tags:
      - "lists (filter)"
      summary: "Lấy danh sách bản ghi đã được lọc (GET)"
      description: "Xem chi tiết tại [tài liệu HTML](./apiDocs/getModuleFilter.html)"
      operationId: "filterModuleGet"
      parameters:
      - name: "module"
        in: "path"
        description: "Tên module (ví dụ: Accounts, Contacts)."
        required: true
        schema:
          type: string
      - name: "filter"
        in: "query"
        description: "Biểu thức bộ lọc, xem chi tiết tại [tài liệu HTML](./apiDocs/filter.html)"
        required: false
        schema:
          type: string
      - name: "max_num"
        in: "query"
        description: "Số bản ghi tối đa trả về (Ví dụ: 100)."
        required: false
        schema:
          type: integer
      - name: "offset"
        in: "query"
        description: "Số bản ghi bỏ qua trước khi danh sách được trả về."
        required: false
        schema:
          type: integer
      - name: "fields"
        in: "query"
        description: "Danh sách trường muốn được trả về."
        required: false
        schema:
          type: string
      - name: "order_by"
        in: "query"
        description: "Sắp xếp kết quả."
        required: false
        schema:
          type: string
      - name: "deleted"
        in: "query"
        description: "Cho phép hiển thị bản ghi đã xóa."
        required: false
        schema:
          type: boolean
      - name: "nulls_last"
        in: "query"
        description: "Đưa các giá trị null xuống cuối danh sách trả về khi sắp xếp."
        required: false
        schema:
          type: boolean
      responses:
        '200':
          description: Thành công, trả về mảng bản ghi
          content:
            application/json:
              example:
                next_offset: -1
                records:
                  - id: "fa300a0e-0ad1-b322-9601-512d0983c19a"
                    name: "Nelson Inc"
                    date_modified: "2013-02-28T05:03:00+00:00"
                    description: ""
                    opportunities:
                      - _module: "Opportunities"
                        id: "b0701501-1fab-8ae7-3942-540da93f5017"
                        name: "360 Vacations - 228 Units"
                        date_modified: "2014-09-08T16:05:00+03:00"
                        sales_status: "New"
                    _acl:
                      fields: {}
                  - id: "95e17367-9b3d-0e26-22dc-512d0961fedf"
                    name: "Florence Haddock"
                    date_modified: "2013-02-26T19:12:00+00:00"
                    description: ""
                    opportunities:
                      - _module: "Opportunities"
                        id: "9ce7c088-8ee4-7cd3-18f1-540da944d4c0"
                        name: "360 Vacations - 312 Units"
                        date_modified: "2014-09-08T16:05:00+03:00"
                        sales_status: "New"
                    _acl:
                      fields: {}
      security:
      - BearerAuth: []
    post:
      tags:
        - "lists (filter)"
      summary: "Lấy danh sách bản ghi đã được lọc (POST)"
      description: "Tương tự GET /filter nhưng nhận filter JSON trong request body, tiện lợi cho filter phức tạp, lồng nhau. Xem chi tiết tại [tài liệu HTML](./apiDocs/postModuleFilter.html)"
      operationId: "filterModulePost"
      parameters:
        - name: "module"
          in: "path"
          description: "Tên module (ví dụ: Accounts, Contacts, Leads)."
          required: true
          schema:
            type: string
            example: "Accounts"
      requestBody:
        required: true
        description: "Xem hướng dẫn lọc bằng trường <code>filter</code> tại [tài liệu HTML](./apiDocs/filter.html)"
        content:
          application/json:
            schema:
              type: object
              properties:
                filter:
                  type: string
                  description: "Biểu thức bộ lọc, xem chi tiết tại [tài liệu HTML](./apiDocs/filter.html)"
                  example:
                    - $or:
                      - name:
                          $equals: "Nelson Inc"
                      - name:
                          $equals: "Nelson LLC"
                max_num:
                  type: integer
                  description: "Số bản ghi tối đa trả về (Ví dụ: 100)."
                  example: 100
                offset:
                  type: integer
                  description: "Số bản ghi bỏ qua trước khi danh sách được trả về."
                  example: 0
                fields:
                  type: string
                  description: "Danh sách trường muốn được trả về, phân tách bằng dấu phẩy."
                  example: "id,name,date_modified"
                order_by:
                  type: string
                  description: "Sắp xếp kết quả, ví dụ: 'date_modified:desc,name:asc'."
                  example: "date_modified:desc"
                deleted:
                  type: boolean
                  description: "Cho phép hiển thị bản ghi đã xóa."
                  example: false
                nulls_last:
                  type: boolean
                  description: "Đưa các giá trị null xuống cuối danh sách trả về khi sắp xếp."
                  example: true
      responses:
        '200':
          description: Thành công, trả về mảng bản ghi
          content:
            application/json:
              example:
                next_offset: -1
                records:
                  - id: "fa300a0e-0ad1-b322-9601-512d0983c19a"
                    name: "Nelson Inc"
                    date_modified: "2013-02-28T05:03:00+00:00"
                    description: ""
                    opportunities:
                      - _module: "Opportunities"
                        id: "b0701501-1fab-8ae7-3942-540da93f5017"
                        name: "360 Vacations - 228 Units"
                        date_modified: "2014-09-08T16:05:00+03:00"
                        sales_status: "New"
                    _acl:
                      fields: {}
                  - id: "95e17367-9b3d-0e26-22dc-512d0961fedf"
                    name: "Florence Haddock"
                    date_modified: "2013-02-26T19:12:00+00:00"
                    description: ""
                    opportunities:
                      - _module: "Opportunities"
                        id: "9ce7c088-8ee4-7cd3-18f1-540da944d4c0"
                        name: "360 Vacations - 312 Units"
                        date_modified: "2014-09-08T16:05:00+03:00"
                        sales_status: "New"
                    _acl:
                      fields: {}
      security:
      - BearerAuth: []
  /{module}/filter/count:
    get:
      tags:
      - "lists (filter)"
      summary: "Lấy tổng số bản ghi đã lọc (COUNT – GET)"
      description: "Xem chi tiết tại [tài liệu HTML](./apiDocs/getModuleFilterCount.html)"
      operationId: "filterModuleCount"
      parameters:
      - name: "module"
        in: "path"
        description: "Tên module (ví dụ: Accounts, Contacts)."
        required: true
        schema:
          type: string
      - name: "filter"
        in: "query"
        description: "Biểu thức bộ lọc, xem chi tiết tại [tài liệu HTML](./apiDocs/filter.html)"
        required: false
        schema:
          type: string
      - name: "max_num"
        in: "query"
        description: "Số bản ghi tối đa trả về (Ví dụ: 100)."
        required: false
        schema:
          type: integer
      - name: "offset"
        in: "query"
        description: "Số bản ghi bỏ qua trước khi danh sách được trả về."
        required: false
        schema:
          type: integer
      - name: "fields"
        in: "query"
        description: "Danh sách trường muốn được trả về."
        required: false
        schema:
          type: string
      - name: "order_by"
        in: "query"
        description: "Sắp xếp kết quả."
        required: false
        schema:
          type: string
      - name: "deleted"
        in: "query"
        description: "Cho phép hiển thị bản ghi đã xóa."
        required: false
        schema:
          type: boolean
      - name: "nulls_last"
        in: "query"
        description: "Đưa các giá trị null xuống cuối danh sách trả về khi sắp xếp."
        required: false
        schema:
          type: boolean
      responses:
        '200':
          description: "Thành công, trả về số lượng bản ghi đã lọc."
          content:
            application/json:
              schema:
                type: object
                properties:
                  record_count:
                    type: integer
                    description: "Số bản ghi thỏa filter."
                    example: 42
      security:
      - BearerAuth: []
    post:
      tags:
      - "lists (filter)"
      summary: "Lấy tổng số bản ghi đã lọc (COUNT – POST)"
      description: "Tương tự GET /filter/count nhưng nhận filter JSON trong request body, tiện lợi cho filter phức tạp, lồng nhau. Xem chi tiết tại [tài liệu HTML](./apiDocs/postModuleFilterCount.html)."
      operationId: "filterModulePostCount"
      parameters:
      - name: "module"
        in: "path"
        description: "Tên module."
        required: true
        schema:
          type: string
          example: "Opportunities"
      requestBody:
        required: true
        description: "Xem hướng dẫn lọc bằng trường <code>filter</code> tại [tài liệu HTML](./apiDocs/filter.html)"
        content:
          application/json:
            schema:
              type: object
              properties:
                filter:
                  type: object
                  description: "Định nghĩa điều kiện lọc."
                  example: { "status": { "$equals": "Open" } }
      responses:
        '200':
          description: "Thành công, trả về số lượng bản ghi đã lọc."
          content:
            application/json:
              schema:
                type: object
                properties:
                  record_count:
                    type: integer
                    description: "Số bản ghi thỏa filter."
                    example: 42
      security:
      - BearerAuth: []
  /{module}/{record}:
    get:
      tags:
      - "details (record)"
      summary: "Lấy thông tin chi tiết của một bản ghi"
      description: "Trả về chi tiết của một bản ghi cụ thể trong module, dựa vào ID."
      operationId: "getModuleRecord"
      parameters:
      - name: "module"
        in: "path"
        description: "Tên module (ví dụ: Accounts, Contacts)."
        required: true
        schema:
          type: string
          example: "Accounts"
      - name: "record"
        in: "path"
        description: "ID của bản ghi."
        required: true
        schema:
          type: string
          example: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
      responses:
        '200':
          description: "Thành công trả về bản ghi có ID tương ứng"
          content:
            application/json:
              example:
                  id: "6f3b993c-4fed-11f0-9a60-cc28aa8bf61e"
                  name: "Văn A Nguyễn"
                  date_entered: "2025-06-23T11:49:23+07:00"
                  date_modified: "2025-06-23T11:49:23+07:00"
                  modified_user_id: "1"
                  modified_by_name: "Administrator"
                  modified_user_link:
                    full_name: "Administrator"
                    id: "1"
                    _acl:
                      fields:
                        pwd_last_changed:
                          write: "no"
                          create: "no"
                        last_login:
                          write: "no"
                          create: "no"
                      delete: "no"
                      _hash: "08b99a97c2e8d792f7a44d8882b5af6d"
                  created_by: "1"
                  created_by_name: "Administrator"
                  created_by_link:
                    full_name: "Administrator"
                    id: "1"
                    _acl:
                      fields:
                        pwd_last_changed:
                          write: "no"
                          create: "no"
                        last_login:
                          write: "no"
                          create: "no"
                      delete: "no"
                      _hash: "08b99a97c2e8d792f7a44d8882b5af6d"
                  description: ""
                  deleted: false
                  approval_status: ""
                  salutation: ""
                  first_name: "Nguyễn"
                  last_name: "Văn A"
                  full_name: "Văn A Nguyễn"
                  title: ""
                  facebook: ""
                  twitter: ""
                  department: ""
                  do_not_call: false
                  phone_home: ""
                  phone_mobile: "0987654321"
                  phone_work: ""
                  phone_other: ""
                  phone_fax: ""
                  primary_address_street: ""
                  primary_address_street_2: ""
                  primary_address_street_3: ""
                  primary_address_city: ""
                  primary_address_state: ""
                  primary_address_postalcode: ""
                  primary_address_country: ""
                  alt_address_street: ""
                  alt_address_street_2: ""
                  alt_address_street_3: ""
                  alt_address_city: ""
                  alt_address_state: ""
                  alt_address_postalcode: ""
                  alt_address_country: ""
                  assistant: "Van A Nguyen"
                  assistant_phone: ""
                  picture: ""
                  pri_latitude: null
                  pri_longitude: null
                  alt_latitude: null
                  alt_longitude: null
                  date_performed: ""
                  performed_user_id: ""
                  performed_by_name: ""
                  performed_user_link:
                    full_name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  last_call_status: ""
                  last_call_result: ""
                  last_call_date: ""
                  first_call_date: ""
                  first_call_result: ""
                  last_pt_date: ""
                  last_pt_status: ""
                  last_visited: ""
                  group_source: ""
                  converted: false
                  refered_by: ""
                  lead_source: "Walk in"
                  source_description: ""
                  status: "New"
                  status_description: ""
                  reports_to_id: ""
                  report_to_name: ""
                  dp_business_purpose: []
                  dp_consent_last_updated: "2025-06-23"
                  account_name: ""
                  account_to_lead: ""
                  accounts:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  account_description: ""
                  contact_id: ""
                  contact_name: ""
                  contacts:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  account_id: ""
                  opportunity_id: ""
                  converted_opp_name: ""
                  opportunity:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb3dc3c17"
                  opportunity_name: ""
                  opportunity_amount: ""
                  campaign_id: ""
                  campaign_name: ""
                  campaign_leads:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  c_accept_status_fields: ""
                  calls:
                    id: ""
                  m_accept_status_fields: ""
                  meetings:
                    id: ""
                  accept_status_id: ""
                  accept_status_name: ""
                  accept_status_calls: ""
                  accept_status_meetings: ""
                  webtolead_email1: []
                  webtolead_email2: []
                  webtolead_email_opt_out: ""
                  webtolead_invalid_email: ""
                  birthdate: ""
                  portal_name: ""
                  portal_app: ""
                  website: ""
                  preferred_language: ""
                  onl_uid: ""
                  phone_prefix: "84"
                  is_migrate_data: true
                  following: false
                  my_favorite: false
                  tag: []
                  locked_fields: []
                  assigned_user_id: ""
                  assigned_user_name: ""
                  assigned_user_link:
                    full_name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  team_count: ""
                  team_count_link:
                    team_count: ""
                    id: "6960e90c-4587-11ef-8351-2070492d436e"
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  team_name:
                    - id: "6960e90c-4587-11ef-8351-2070492d436e"
                      name: "CS Mầm Non/2.0"
                      name_2: ""
                      primary: true
                      selected: false
                  email: []
                  email1: ""
                  email2: ""
                  invalid_email: ""
                  email_opt_out: ""
                  email_addresses_non_primary: ""
                  gender: ""
                  guardian_name: ""
                  guardian_name_2: ""
                  nick_name: ""
                  other_mobile: ""
                  relationship: ""
                  relationship2: ""
                  grade: ""
                  phone_guardian: ""
                  prefer_level: []
                  age: null
                  age_text: "0 month(s)"
                  full_lead_name: "Văn A Nguyễn"
                  potential: "Interested"
                  old_student_id: ""
                  school_name: ""
                  j_school_link:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  dri_workflow_template_id: ""
                  dri_workflow_template_name: ""
                  dri_workflow_template_link:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  class_activity: ""
                  schedule_call_status: ""
                  schedule_call_date: ""
                  is_today_birthday: ""
                  allow_create: ""
                  reason: ""
                  reference_logs: ""
                  cj_process_key: ""
                  reference: ""
                  utm_source: ""
                  utm_medium: ""
                  utm_content: ""
                  utm_term: ""
                  channel: ""
                  utm_agent_id: ""
                  utm_agent: ""
                  utm_agent_link:
                    name: ""
                    id: ""
                    _acl:
                      fields: []
                      _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                  school_id: ""
                  team_name_text: "CS Mầm Non/2.0"
                  _acl:
                    fields: {}
                  _module: "Leads"
      security:
      - BearerAuth: []
    put:
      tags:
      - "details (record)"
      summary: "Cập nhật bản ghi với các trường được chỉ định (Update Record)"
      description: "Xem chi tiết tại [tài liệu HTML](./apiDocs/putModuleRecord.html)"
      operationId: "updateRecord"
      parameters:
      - name: "module"
        in: "path"
        description: "Tên module (ví dụ: Accounts, Contacts)."
        required: true
        schema:
          type: string
          example: "Accounts"
      - name: "record"
        in: "path"
        description: "ID của bản ghi cần cập nhật."
        required: true
        schema:
          type: string
          example: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
      requestBody:
        required: true
        description: "Ở đây là request mẫu để chỉnh sửa Lead có sẵn."
        content:
          application/json:
            schema:
              type: object
              required:
                - last_name
              properties:
                first_name:
                  type: string
                  description: "Tên (không bắt buộc nhưng thường có)"
                  example: "Nguyễn"
                last_name:
                  type: string
                  description: "Họ (bắt buộc)"
                  example: "Văn A phiên bản mới"
                email:
                  type: string
                  format: email
                  description: "Email chính"
                  example: "NEWVANA@example.com"
                phone_mobile:
                  type: string
                  description: "Điện thoại di động"
                  example: "0987654321"
                lead_source:
                  type: string
                  description: "Nguồn Lead"
                  example: "Call in"
                status:
                  type: string
                  description: "Trạng thái Lead"
                  example: "Converted"
            example:
              first_name: "Nguyễn"
              last_name: "Văn A phiên bản mới"
              email: "NEWVANA@example.com"
              phone_mobile: "0987654321"
              lead_source: "Call in"
              status: "Converted"
      responses:
        '200':
          description: "Thành công – trả về đối tượng Lead đã được chỉnh sửa"
          content:
            application/json:
              example:
                id: "6f3b993c-4fed-11f0-9a60-cc28aa8bf61e"
                name: "Văn A Phiên Bản Mới Nguyễn"
                date_entered: "2025-06-23T11:49:23+07:00"
                date_modified: "2025-06-23T11:59:29+07:00"
                modified_user_id: "1"
                modified_by_name: "Administrator"
                modified_user_link:
                  full_name: "Administrator"
                  id: "1"
                  _acl:
                    fields:
                      pwd_last_changed:
                        write: "no"
                        create: "no"
                      last_login:
                        write: "no"
                        create: "no"
                    delete: "no"
                    _hash: "08b99a97c2e8d792f7a44d8882b5af6d"
                created_by: "1"
                created_by_name: "Administrator"
                created_by_link:
                  full_name: "Administrator"
                  id: "1"
                  _acl:
                    fields:
                      pwd_last_changed:
                        write: "no"
                        create: "no"
                      last_login:
                        write: "no"
                        create: "no"
                    delete: "no"
                    _hash: "08b99a97c2e8d792f7a44d8882b5af6d"
                description: ""
                deleted: false
                approval_status: ""
                salutation: ""
                first_name: "Nguyễn"
                last_name: "Văn A Phiên Bản Mới"
                full_name: "Văn A Phiên Bản Mới Nguyễn"
                title: ""
                facebook: ""
                twitter: ""
                department: ""
                do_not_call: false
                phone_home: ""
                phone_mobile: "0987654321"
                phone_work: ""
                phone_other: ""
                phone_fax: ""
                primary_address_street: ""
                primary_address_street_2: ""
                primary_address_street_3: ""
                primary_address_city: ""
                primary_address_state: ""
                primary_address_postalcode: ""
                primary_address_country: ""
                alt_address_street: ""
                alt_address_street_2: ""
                alt_address_street_3: ""
                alt_address_city: ""
                alt_address_state: ""
                alt_address_postalcode: ""
                alt_address_country: ""
                assistant: "Van A Phien Ban Moi Nguyen"
                assistant_phone: ""
                picture: ""
                pri_latitude: null
                pri_longitude: null
                alt_latitude: null
                alt_longitude: null
                date_performed: ""
                performed_user_id: ""
                performed_by_name: ""
                performed_user_link:
                  full_name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                last_call_status: ""
                last_call_result: ""
                last_call_date: ""
                first_call_date: ""
                first_call_result: ""
                last_pt_date: ""
                last_pt_status: ""
                last_visited: ""
                group_source: ""
                converted: false
                refered_by: ""
                lead_source: "Call in"
                source_description: ""
                status: "Converted"
                status_description: ""
                reports_to_id: ""
                report_to_name: ""
                dp_business_purpose: []
                dp_consent_last_updated: "2025-06-23"
                account_name: ""
                account_to_lead: ""
                accounts:
                  name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                account_description: ""
                contact_id: ""
                contact_name: ""
                contacts:
                  name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                account_id: ""
                opportunity_id: ""
                converted_opp_name: ""
                opportunity:
                  name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                opportunity_name: ""
                opportunity_amount: ""
                campaign_id: ""
                campaign_name: ""
                campaign_leads:
                  name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                c_accept_status_fields: ""
                calls:
                  id: ""
                m_accept_status_fields: ""
                meetings:
                  id: ""
                accept_status_id: ""
                accept_status_name: ""
                accept_status_calls: ""
                accept_status_meetings: ""
                webtolead_email1: []
                webtolead_email2: []
                webtolead_email_opt_out: ""
                webtolead_invalid_email: ""
                birthdate: ""
                portal_name: ""
                portal_app: ""
                website: ""
                preferred_language: ""
                onl_uid: ""
                phone_prefix: "84"
                is_migrate_data: true
                following: false
                my_favorite: false
                tag: []
                locked_fields: []
                assigned_user_id: ""
                assigned_user_name: ""
                assigned_user_link:
                  full_name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                team_count: ""
                team_count_link:
                  team_count: ""
                  id: "6960e90c-4587-11ef-8351-2070492d436e"
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                team_name:
                  - id: "6960e90c-4587-11ef-8351-2070492d436e"
                    name: "CS Mầm Non/2.0"
                    name_2: ""
                    primary: true
                    selected: false
                email: []
                email1: ""
                email2: ""
                invalid_email: ""
                email_opt_out: ""
                email_addresses_non_primary: ""
                gender: ""
                guardian_name: ""
                guardian_name_2: ""
                nick_name: ""
                other_mobile: ""
                relationship: ""
                relationship2: ""
                grade: ""
                phone_guardian: ""
                prefer_level: []
                age: null
                age_text: "0 month(s)"
                full_lead_name: "Văn A Phiên Bản Mới Nguyễn"
                potential: "Interested"
                old_student_id: ""
                school_name: ""
                j_school_link:
                  name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                dri_workflow_template_id: ""
                dri_workflow_template_name: ""
                dri_workflow_template_link:
                  name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                class_activity: ""
                schedule_call_status: ""
                schedule_call_date: ""
                is_today_birthday: ""
                allow_create: ""
                reason: ""
                reference_logs: ""
                cj_process_key: ""
                reference: ""
                utm_source: ""
                utm_medium: ""
                utm_content: ""
                utm_term: ""
                channel: ""
                utm_agent_id: ""
                utm_agent: ""
                utm_agent_link:
                  name: ""
                  id: ""
                  _acl:
                    fields: []
                    _hash: "654d337e0e912edaa00dbb0fb3dc3c17"
                school_id: ""
                team_name_text: "CS Mầm Non/2.0"
                _acl:
                  fields: {}
                _module: "Leads"
      security:
      - BearerAuth: []
    delete:
      tags:
        - "details (record)"
      summary: "Xóa bản ghi theo ID"
      description: "Xóa một bản ghi trong module đã chỉ định."
      operationId: "deleteModuleRecord"
      parameters:
        - name: "module"
          in: "path"
          description: "Tên module (ví dụ: Accounts, Contacts)."
          required: true
          schema:
            type: string
            example: "Accounts"
        - name: "record"
          in: "path"
          description: "ID của bản ghi cần xóa."
          required: true
          schema:
            type: string
            example: "11cf0d0a-40af-8cb1-9da0-5057a5f511f9"
      responses:
        '200':
          description: "Xóa thành công, trả về ID bản ghi vừa xóa"
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: "ID của bản ghi đã bị xóa"
                    example: "11cf0d0a-40af-8cb1-9da0-5057a5f511f9"
      security:
      - BearerAuth: []
components:
  securitySchemes:
    BearerAuth:
      type: apiKey
      name: Authorization
      in: header
      description: "Nhập Bearer token theo định dạng: `Bearer <access_token>`"
  